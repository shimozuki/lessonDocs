<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <title>one.html</title>
  </head>
  <body>
    <input type="text" name="todo" class="type" />
    <button class="submit">Submit</button>

    <ul class="container"></ul>
    <script>
      const container = document.querySelector('.container');
      const type = document.querySelector('.type');
      const submit = document.querySelector('.submit');

      submit.addEventListener('click', () => {
				console.log('Posting')
        fetch('/todo', {
          method: 'POST',
          body: type.value,
        });
      });

      fetch('/todo')
	    .then(res =>  {
		//console.log(res.json(), 'res')
    return res.json()
			})
        .then(data => {
					console.log(data, 'data')
				})
					/*
          data.forEach((todo, i) => {
            container.innerHTML += `
			  <li class="todo">${todo}</li>
			`;
            const todos = document.querySelectorAll('.todo');

            todos.forEach(ele => {
              ele.addEventListener('click', () => {
                const result = confirm(`Are you sure?`);

                if (result) {
                  ele.remove();
                }
              });
            });
          });
        });
				*/
    </script>
  </body>
</html>
