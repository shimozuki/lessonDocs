<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="stylesheet"
      href="https://songz.c0d3.com/js4/exercises/war.css"
    />
    <style>
      .row {
        width: 100%;
        display: flex;
        position: relative;
        justify-content: space-evenly;
      }
      .warriorContainer {
        width: 100%;
        display: flex;
        position: relative;
        justify-content: space-evenly;
      }
      .peasantContainer {
        width: 100%;
        display: flex;
        position: relative;
        justify-content: space-evenly;
      }
      .square {
        position: relative;
        padding-bottom: 0px;
      }
      p {
        color: maroon;
      }
    </style>

    <title>fourClass.html</title>
  </head>
  <body>
    <h1>Class Name</h1>
    <h3>Warrior</h3>
    <div class="warriorContainer"></div>
    <div class="row">
      <p class="lower">
        .character.warrior.up
      </p>
      <p class="lower">
        .character.warrior.down
      </p>
      <p class="lower">
        .character.warrior.left
      </p>
      <p class="lower">
        .character.warrior.right
      </p>
    </div>
    <h3>Peasant</h3>
    <div class="peasantContainer"></div>
      <div class="row">
        <p>
          .character.up
        </p>
        <p>
          .character.down
        </p>
        <p>
          .character.left
        </p>
        <p>
          .character.right
        </p>
      </div>
    </div>
    <script>
      const warrior = document.querySelector('.warriorContainer');
      const peasant = document.querySelector('.peasantContainer');

      function Character(dir, war) {
        const div = document.createElement('div');
        if (war) {
          div.classList.add('square');
          div.classList.add('character');
          div.classList.add(`${dir}`);
          div.classList.add(`${war}`);
          warrior.append(div);
        } else {
          div.classList.add('square');
          div.classList.add('character');
          div.classList.add(`${dir}`);
          peasant.append(div);
        }
      }

      const solution = () => {
        const warrior = document.querySelectorAll('.warrior');
        const lower = document.querySelectorAll('.lower');

        setTimeout(() => {
          warrior.forEach(e => {
            if (e.classList.contains('attack')) {
              e.classList.remove('attack');
            } else {
              e.classList.add('attack');
            }
          });

          lower.forEach(e => {
            if (e.classList.contains('attack')) {
              e.innerText += '.attack';
              e.classList.remove('attack');
            } else {
              const result = e.innerText.split('.');
              result.pop();
              e.innerText = result.join('.');
              e.classList.add('attack');
            }
          });

          solution();
        }, 2000);
      };
      solution();

      new Character('up', 'warrior');
      new Character('down', 'warrior');
      new Character('left', 'warrior');
      new Character('right', 'warrior');

      new Character('up');
      new Character('down');
      new Character('left');
      new Character('right');
    </script>
  </body>
</html>
