<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
		<style>
.container {
	width: 500px;
	height: 300px;
}
		</style>
    <title>imageGenerator.html</title>
  </head>

  <body style="text-align:center;">
    <h1>Image Generator</h1>
		<input class="textInput" type="text" />

		<video class="video"></video>
		<canvas class="canvas"></canvas>

		<script>
/*
When the user hits enter, take a picture and display the text 
near the bottom of the picture.
*/
const canvas = document.querySelector('.canvas')
const context = canvas.getContext('2d')
const videoElement = document.querySelector('.video')
const input = document.querySelector('.textInput')
input.focus()

input.addEventListener('keyup', (e) => {
	if (e.key === 'Enter') {
		const value = input.value

		canvas.width = videoElement.videoWidth
		canvas.height = videoElement.videoHeight
		context.drawImage(videoElement, 0, 0)

		context.font = "50px Comic Sans MS"
		context.fillStyle = "red"

		context.fillText(value, 30, canvas.height - 150)
	}
})

  navigator.mediaDevices.getUserMedia({
    video: true, // webcam
    audio: true, // microphone
  }).then((stream) => {
    videoElement.srcObject = stream
    videoElement.play()
  })

navigator.mediaDevices.getUserMedia({
	video: true,
	audio: true,
}).then((stream) => {
	videoElement.srcObject = stream
	videoElement.play()
})


		</script>
	</body>
</html>
